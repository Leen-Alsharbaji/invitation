<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Invitation</title>
    <link rel="stylesheet" href="styles.css" />
    <!--bootstrap-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kufam:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
</head>


<body>
    <div class="page-fade">
        <div class="invitation-container">
            <div class="invitation-content">
                <img src="media/Bird-logo.svg" alt="Decorative Top" style="width: 7%; margin-top: 40px; margin: 5%;" />
            </div>
            <p class="kufam-font fade-text" style="font-size: x-small !important;">تحت رعاية كريمة من سيادة محافظ دمشق</p>
            <h1 class="kufam-font fade-text" style="margin-top: 0 ; font-weight: 400 !important; font-size: large  !important;">
                السيد ماهر مروان ادلبي</h1>
            <p class="kufam-font fade-text" style="font-size: x-small !important; margin-top: 2%; text-align: center;">تدعوكم محافظة
                دمشق <br> لحضور حفل اطلاق مسار التنمية المحلية تحت شعار
            </p>

            <div class="invitation-section"
                style="width: 100%; height: 30vw; display: flex; flex-grow: 1; justify-content: center;">
                <img src="media/Asset 1.svg" class="arrow-bounce" style="width: 30%; height: 30%; margin-top: 5%;"
                    alt="Arrow Down" />
            </div>

        </div>
        <!-- Logo and birds before buildings -->

        <div class="invitation-photos">
            <canvas id="hero-lightpass" class="canvas"></canvas>
            <div class="invitation-footer fade-text">
                <p class="kufam-font" style="font-size: x-small !important;">حيث يلتقي العمل المجتمعي
                    بالرؤية التنموية لرسم
                    ملامح المستقبل<br>
                    دمشق… المدينة التي تنهض لتُروى حكايتها من جديد. </p>


                <p class="kufam-font" style="margin-top:30% !important; margin: 5%; font-size: x-small !important;">
                    نتشرف بحضوركم ومشاركتكم بهذا الحدث الفريد والمميز الذي
                    يرسم ملامح مستقبل دمشق</p>
                <p class="kufam-font" style="font-size: x-small !important;">11/08/ 2025 | الساعة 7:00 مساءً | قصر العظم - دمشق</p>

                <img src="media/FLower.svg" style="width: 10%; margin-left: 5%; margin-top: 10%;" alt="">
                <p class="kufam-font" style="font-size: x-small !important; margin-top: 10% !important; margin-left: 5% !important;">دعوة خاصة بالاسم</p>
            </div>
        </div>
    </div>
    <script>
        // Fade in the whole page, then text, then trigger buildings/footer on scroll
        window.addEventListener('DOMContentLoaded', function () {
            const page = document.querySelector('.page-fade');
            page.classList.add('visible');
            setTimeout(() => {
                // Fade in text (except footer)
                const textEls = Array.from(document.querySelectorAll('.fade-text'));
                // Exclude footer from initial text fade
                const footer = document.querySelector('.invitation-footer');
                const mainTextEls = textEls.filter(el => el !== footer);
                let t = 0;
                function fadeTextNext() {
                    if (t >= mainTextEls.length) {
                        // After all text, set up scroll triggers for buildings and footer
                        setupScrollAnimationsOnSectionView();
                        return;
                    }
                    mainTextEls[t].classList.add('visible');
                    t++;
                    setTimeout(fadeTextNext, 180); // faster text fade
                }
                fadeTextNext();
            }, 1000);

            function setupScrollAnimationsOnSectionView() {
                // Buildings: fade in when .invitation-photos is visible
                const photosSection = document.querySelector('.invitation-photos');
                const buildings = document.querySelectorAll('.building-fade');
                let buildingsAnimated = false;
                const observer = new window.IntersectionObserver((entries, obs) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !buildingsAnimated) {
                            buildingsAnimated = true;
                            let i = 0;
                            function fadeBuildingNext() {
                                if (i >= buildings.length) return;
                                buildings[i].classList.add('visible');
                                i++;
                                setTimeout(fadeBuildingNext, 320); // faster building fade
                            }
                            fadeBuildingNext();
                            obs.disconnect();
                        }
                    });
                }, { threshold: 0.2 });
                observer.observe(photosSection);

                // Footer: fade in when visible
                const footer = document.querySelector('.invitation-footer');
                let footerAnimated = false;
                const footerObserver = new window.IntersectionObserver((entries, obs) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !footerAnimated) {
                            footerAnimated = true;
                            footer.classList.add('visible');
                            obs.disconnect();
                        }
                    });
                }, { threshold: 0.2 });
                footerObserver.observe(footer);
            }
        });
    </script>
    <script src="scroll.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
</body>

</html>